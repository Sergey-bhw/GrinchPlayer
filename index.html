<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: 'unsafe-inline'">
    <script src="custom.js"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body>

<div class="layout">
    <nav class="panel navigator" id="navigator">
        <div class="panel-heading navbar-brand">
            <img class="drag" src="static/icon-64.png" alt="GrinchPlayer">
            <span class="text is-size-5 drag">GrinchPlayer v1.6.1</span>
        </div>
        <div class="about"><i class="fa fa-phone-volume"></i>
            Технопранк-плеер by <span class="author">Nik</span>
        </div>
        <div class="info">
            <a class="panel-block" id="settings"><i class="fa fa-gear"></i> Настройки</a>
            <a class="panel-block" id="about"><i class="fa fa-question-circle"></i> О программе</a>
        </div>
        <div class="pages" id="page-search">
            <p class="panel-heading">Страницы</p>
            <div class="panel-search field has-addons">
                <p class="control has-icons-left">
                    <input class="input search" type="text" placeholder="фильтр">
                    <span class="icon is-left">
                        <i class="fa fa-search"></i>
                    </span>
                </p>
                <p class="control">
                    <button class="button is-dark sort" data-sort="text">
                        <i class="fa fa-sort-alpha-asc"></i>
                    </button>
                </p>
            </div>
            <div class="items"></div>
        </div>

        <div class="projects" id="project-search">
            <p class="panel-heading">Проекты</p>
            <div class="panel-search field has-addons">
                <p class="control has-icons-left">
                    <input class="input search" type="text" placeholder="фильтр">
                    <span class="icon is-left">
                        <i class="fa fa-search"></i>
                    </span>
                </p>
                <p class="control">
                    <button class="button is-dark sort" data-sort="text">
                        <i class="fa fa-sort-alpha-asc"></i>
                    </button>
                </p>
            </div>
            <div class="items"></div>
            <div class="panel-block bottom">
                <button class="button is-link is-outlined is-fullwidth close-proj">
                    Снять выделение
                </button>
            </div>
        </div>
    </nav>

    <div class="wrapper">
        <div class="notification is-success"></div>

        <div class="tabs is-toggle drag" id="tabs">
            <ul></ul>
            <div class="buttons no-drag">
                <button class="button is-dark" id="tab-actions"><i class="fa fa-chevron-circle-down"></i></button>
            </div>
        </div>
    </div>

    <nav class="panel deck" id="deck">
        <div class="panel-heading window buttons drag">
            <button class="button no-drag" id="win-minimize"><i class="fa fa-window-minimize"></i></button>
            <button class="button no-drag" id="win-maximize"><i class="fa fa-window-maximize"></i></button>
            <button class="button no-drag" id="win-close"><i class="fa fa-window-close"></i></button>
        </div>
        <p class="panel-heading phrases">
            Осталось фраз: <span class="count">0</span>
        </p>
        <div class="panel-block batch">
            <div class="field has-addons">
                <p class="control">
                    <button class="button is-dark is-static">Добавить</button>
                </p>
                <p class="control is-expanded">
                    <input class="input" type="number" min="1" id="batch-num">
                </p>
                <p class="control">
                    <button class="button is-dark is-static">фраз</button>
                </p>
                <p class="control">
                    <button disabled class="button is-dark" id="batch-btn" title="Добавить на страницу">
                        <i class="fa fa-plus"></i>
                    </button>
                </p>
            </div>
        </div>
        <div class="panel-search">
            <p class="control has-icons-left" id="search-wrapper">
                <span class="icon is-left">
                    <i class="fa fa-search"></i>
                </span>
            </p>
        </div>
        <div class="panel-block bottom" id="deck-bottom">
            <button class="button is-link is-outlined is-fullwidth" id="remove-deck" title="Очистить колоду" disabled>
                Очистить
            </button>
        </div>
        <div class="edit-mode">
            <div class="panel-heading edit">
                Редактировать
            </div>
            <div class="buttons edit color">
                <button class="button" id="color-choose" title="Выбрать цвет"><i class="fa fa-delicious"></i> Цвет</button>
                <button class="button apply" id="color-apply" title="Применить цвет (Ctrl+D)"><i class="fa fa-check"></i></button>
                <button class="button brush" id="color-brush" title="Режим рисования"><i class="fa fa-paint-brush"></i> Кисть</button>
            </div>
            <div class="panel-heading edit">
                Добавить
            </div>
            <div class="buttons edit">
                <button class="button" id="add-sound" title="Добавить файлы в колоду"><i class="fa fa-file-o"></i> Файлы</button>
                <button class="button" id="add-folder" title="Добавить папки в колоду"><i class="fa fa-folder-o"></i> Папки</button>
                <button class="button" id="add-pp" title="Добавить страницу из PrankPlayer v2"><i class="fa fa-bullhorn"></i> PPv2</button>
                <button class="button" id="add-ppx" title="Добавить все PPv2 страницы в папках"><i class="fa fa-tty"></i> Nx PPv2</button>
            </div>
            <div class="panel-heading edit">
                Страница
            </div>
            <div class="buttons edit">
                <button class="button" id="remove-main" title="Очистить страницу"><i class="fa fa-window-close-o"></i> Удалить</button>
                <button class="button" id="save-all" title="Сохранить изменения (Ctrl+S)"><i class="fa fa-floppy-o"></i> Сохранить</button>
                <button class="button" id="page-import" title="Импортировать страницы"><i class="fa fa-sign-in"></i> Импорт</button>
                <button class="button" id="page-export" title="Экспортировать активную страницу"><i class="fa fa-sign-out"></i> Экспорт</button>
                <button class="button" id="batch-export" title="Экспортировать все страницы"><i class="fa fa-upload"></i> Экспорт всех страниц</button>
            </div>
            <div class="panel-heading edit">
                Другое
            </div>
            <div class="buttons edit">
                <button class="button" id="flush-cache" title="Очистить кеш сохраненных страниц"><i class="fa fa-eraser"></i> Очистить кеш страниц</button>
            </div>
        </div>
    </nav>
</div>

<div class="modal no-drag" id="devices">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Выберите устройство вывода звука</p>
            <button class="delete" aria-label="close"></button>
        </header>
        <section class="modal-card-body">
            <div class="list is-hoverable"></div>
        </section>
    </div>
</div>

<div class="modal no-drag" id="help">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Помощь</p>
            <button class="delete" aria-label="close"></button>
        </header>
        <section class="modal-card-body">
            <div class="content">
                <h3>Основные понятия</h3>
                <ul>
                    <li>Режим <b>редактирования</b> — позволяет редактировать страницы и блоки
                    <li>Режим <b>воспроизведения</b> — для проигрывания звуков
                    <li><b>Страница</b> — главная область по центру (с сеткой в режиме редактирования)
                    <li><b>Проект</b> — набор страниц
                    <li><b>Блок</b> — прямоугольник с текстом, соответствующий звуку
                    <li><b>Вкладка</b> — заголовок страницы вверху экрана (для переключения)
                    <li><b>Колода</b> — правая панель с добавленными, но не размещенными на странице звуками
                    <li><b>Навигатор</b> — левая панель со списком страниц и проектов
                    <li><b>PPv2</b> — Prank Player v2, старый плеер для технопранков (by Pyro)
                    <li>Поддерживаемые <b>форматы аудио</b>:<br>MP3, MPEG, OPUS, OGG, OGA, WAV, AAC, CAF, M4A, MP4, WEBA, WEBM, DOLBY, FLAC</li>
                </ul>

                <h3>Управление</h3>
                <ul>
                    <li><b>Пробел</b> — войти в режим редактирования
                    <li><b>Ctrl+S</b> — сохранить базу вручную
                    <li><b>+/−</b> или <b>Ctrl+Колесо</b> — зум, масштабирование интерфейса</li>
                    <li>Цифры и буквы <b>1-5, Й-Е, Ф-П, Я-И</b> — быстрое переключение вкладок (1-20)</li>
                    <li><b>Ctrl+W</b> — закрыть текущую вкладку
                    <li><b>Ctrl+Alt+W</b> — закрыть все вкладки (и снять выделение с проекта)
                    <li><b>Правая</b> кнопка на странице (нажать) — пауза или продолжение воспроизведения звука</li>
                    <li><b>Левая</b> кнопка в навигаторе страниц (зажать и перенести на вкладки) — открыть страницу
                    <li><b>Левая</b> кнопка в навигаторе (<b>двойной клик</b>) — открыть страницу или проект</li>
                    <li><b>Правая</b> кнопка на звуке в колоде — воспроизвести звук</li>
                    <li><b>Escape</b> — закрыть всплывающее окно, сбросить фильтр в поиске, выйти из режима рисования
                    <li><b>Ctrl+1</b> — скрыть показать левый сайдбар (навигатор)
                    <li><b>Ctrl+2</b> — скрыть показать правый сайдбар (колоду)
                </ul>

                <h3>В режиме воспроизведения</h3>
                <ul>
                    <li><b>Левая</b> кнопка на блоке — проиграть звук
                </ul>

                <h3>В режиме редактирования</h3>
                <ul>
                    <li><b>Левая</b> кнопка на блоке (зажать и двигать) — переместить</li>
                    <li><b>Правая</b> кнопка на блоке (зажать и двигать) — изменить размер</li>
                    <li><b>Ctrl+Правая</b> кнопка на блоке — переименовать</li>
                    <li><b>Колесо</b> на блоке — проиграть звук</li>
                    <li><b>Shift+Левая</b> кнопка на странице или в колоде (зажать и двигать) — выделение</li>
                    <li><b>Delete</b> — удаление выделенных звуков (в колоду или из базы)</li>
                    <li><b>Левая</b> кнопка на звуке в колоде (<b>двойной клик</b>) — добавить звук в пустое место</li>
                    <li><b>Alt+S</b> — сохранить вкладки в текущий проект
                    <li><b>Shift+Alt+S</b> — сохранить вкладки как новый проект
                    <li><b>Ctrl+C</b> — скопировать звуки со страницы или из колоды
                    <li><b>Ctrl+X</b> — вырезать звуки со страницы или из колоды
                    <li><b>Ctrl+V</b> — вставить звуки на страницу или в колоду
                    <li><b>Ctrl+D</b> — покрасить выделенные блоки в выбранный цвет
                </ul>

                <h3>Добавление файлов/папок из проводника (drag'n'drop)</h3>
                <ol>
                    <li>Перейти в режим <b>редактирования</b></li>
                    <li><b>Выделить</b> файлы/папки в проводнике</li>
                    <li><b>Перенести</b> их в окно плеера в область <b>колоды</b> (правой панели)</li>
                </ol>
            </div>
        </section>
    </div>
</div>

<div class="modal no-drag" id="proj-create">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Проект</p>
            <button class="delete" aria-label="close"></button>
        </header>
        <section class="modal-card-body">
            <div class="field has-addons">
                <div class="control">
                    <input class="input is-large" type="text" placeholder="Название">
                </div>
                <div class="control">
                    <a class="button is-large btn-saveas">
                        Сохранить
                    </a>
                </div>
            </div>
        </section>
    </div>
</div>

<div class="modal no-drag" id="info">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Описание</p>
            <button class="delete" aria-label="close"></button>
        </header>
        <section class="modal-card-body">
            <div class="content">
                <div class="header"><img class="img" src="static/legends.jpg" alt="Legends"></div>
                <h2 class="title">Grinch Player v1.6.1</h2>
                <h4 class="title">версия от 14 сентября 2019 года</h4>
                <h3>Описание</h3>
                <p>Плеер для технопранков, позволяющий удобно располагать звуки на страницах, объединять их в проекты и многое другое.</p>
                <p>Использованные технологии: Electron (electron-boilerplate, electron-builder), JavaScript, Node.js, HTML, CSS.</p>
                <p>Библиотеки: jQuery, jQuery UI, Bulma, Howler.js, HotKeys.js, List.js, Tippy.js, SimpleBar, Jeditable, Shepherd.js и другие.</p>
                <p>Разработчик: <b>Nik</b> aka <b>n3tman</b>. Работа была начата 21 июня 2019 года для технопранкера ArsenalGrinch и всех желающих.</p>
                <h3>Ссылки</h3>
                <p>Репозиторий на GitHub: <a href="#" class="repository">https://github.com/n3tman/GrinchPlayer</a></p>
                <p>Лицензия: <b><a href="#" class="license"><img src="static/license.png"> CC BY-NC-SA 4.0</a></b> (обязательны: «Атрибуция», «Некоммерческое использование», «На тех же условиях»)</p>
                <p>Новые версии: <a href="#" class="releases">https://github.com/n3tman/GrinchPlayer/releases</a></p>
                <h3>Благодарности</h3>
                <p><b>ArsenalGrinch</b> — мотивация, идеи, тестирование</p>
                <p><b>0000maks0000</b> — главный тестировщик и генератор новых идей, автор скринкаста по обучению работы с плеером</p>
                <p><b>kolay'</b> — тестирование и поиск багов под Linux и Mac OS
                <p><b>FLeKsO</b> — тестирование и поиск багов
                <p><b>Pyro</b> aka <b>sowcow</b> — создатель оригинального Prank Player v2, с которого копировался основной функционал
                <p><b>PranksWood</b> aka <b>TYP808</b> — создатель веб-плеера PrankPlayer, у которого также были подсмотрены некоторые идеи
                <p><b>Prank.Ru</b> — информационная поддержка (в лице <b>Stakkan</b>) и полезные комментарии в теме на форуме</p>
            </div>
        </section>
    </div>
</div>

</body>
</html>
